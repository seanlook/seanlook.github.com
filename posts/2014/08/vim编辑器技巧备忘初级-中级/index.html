<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>vim编辑器技巧备忘（初级-中级） | Sean Note</title>
<meta name="keywords" content="vim, 编辑器">
<meta name="description" content="“学习vim并且其会成为你最后一个使用的文本编辑器” 学习建议：
丢弃鼠标和小键盘 具有搭配使用各种按键的意识 首先来一张 mindmap :
1. 初级 1.1 编辑模式（Insert Mode） 编辑模式包括以下动作：
insert：i在光标所在字符前插入，I在当前行首第一个非空格字符前插入 append：a在光标所在字符后插入，A在行末尾开始插入 open：o在下一行插入新行，O在光标所在行的上一行插入新行 replace：r将光标处字符替换成r紧接的字符；R一直替换字符串，知道ESC键退出，同windows下的Insert键 Ctrl&#43;p：自动提示 [ESC]：回到普通模式 1.2 普通模式（Normal Mode） h, j, k, l ，分别对应 左← 下↓ 上↑ 右→
:q, :q!, :wq 退出 不保存强行退出 保存退出
移动光标到当前行首/非空格，同^，:0
$ 移动光标到当前行尾，同:$
G 移动光标到文档最后一行首
30G 转到第30行，同 :30
9- 光标向上移动9行，同9k
9&#43; 光饼向下移动9行，同9[space]，9j
gg 转到文档第一行(1G)
H 移动到屏幕的第一列
M 移动到屏幕的中间列
L 移动到屏幕的最后列
w 移动到下一个单词的首字母，（标点符号认为是一个单词，W表示单词以空格分隔）
e 移动到下一个单词的末尾，（E认为单词以空格分隔）
b 移动到上一个单词的首字母，（B认为单词以空格分隔）
fx 移动到下一个字母是x的位置。Fx向上移动。
% 匹配括号移动，包括 (, {, [ ，你需要把光标先移到括号上">
<meta name="author" content="admin">
<link rel="canonical" href="http://xgknight.com/posts/2014/08/vim%E7%BC%96%E8%BE%91%E5%99%A8%E6%8A%80%E5%B7%A7%E5%A4%87%E5%BF%98%E5%88%9D%E7%BA%A7-%E4%B8%AD%E7%BA%A7/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.bccfefac377bc340f06c260aed1bddf49a4354816d7c570d6aac75a997986c95.css" integrity="sha256-vM/vrDd7w0DwbCYK7Rvd9JpDVIFtfFcNaqx1qZeYbJU=" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js" integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG&#43;9vmJ0cTS&#43;ovo0FeA="
    onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="http://xgknight.com/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://xgknight.com/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://xgknight.com/favicon-32x32.png">
<link rel="apple-touch-icon" href="http://xgknight.com/apple-touch-icon.png">
<link rel="mask-icon" href="http://xgknight.com/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:title" content="vim编辑器技巧备忘（初级-中级）" />
<meta property="og:description" content="“学习vim并且其会成为你最后一个使用的文本编辑器” 学习建议：
丢弃鼠标和小键盘 具有搭配使用各种按键的意识 首先来一张 mindmap :
1. 初级 1.1 编辑模式（Insert Mode） 编辑模式包括以下动作：
insert：i在光标所在字符前插入，I在当前行首第一个非空格字符前插入 append：a在光标所在字符后插入，A在行末尾开始插入 open：o在下一行插入新行，O在光标所在行的上一行插入新行 replace：r将光标处字符替换成r紧接的字符；R一直替换字符串，知道ESC键退出，同windows下的Insert键 Ctrl&#43;p：自动提示 [ESC]：回到普通模式 1.2 普通模式（Normal Mode） h, j, k, l ，分别对应 左← 下↓ 上↑ 右→
:q, :q!, :wq 退出 不保存强行退出 保存退出
移动光标到当前行首/非空格，同^，:0
$ 移动光标到当前行尾，同:$
G 移动光标到文档最后一行首
30G 转到第30行，同 :30
9- 光标向上移动9行，同9k
9&#43; 光饼向下移动9行，同9[space]，9j
gg 转到文档第一行(1G)
H 移动到屏幕的第一列
M 移动到屏幕的中间列
L 移动到屏幕的最后列
w 移动到下一个单词的首字母，（标点符号认为是一个单词，W表示单词以空格分隔）
e 移动到下一个单词的末尾，（E认为单词以空格分隔）
b 移动到上一个单词的首字母，（B认为单词以空格分隔）
fx 移动到下一个字母是x的位置。Fx向上移动。
% 匹配括号移动，包括 (, {, [ ，你需要把光标先移到括号上" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://xgknight.com/posts/2014/08/vim%E7%BC%96%E8%BE%91%E5%99%A8%E6%8A%80%E5%B7%A7%E5%A4%87%E5%BF%98%E5%88%9D%E7%BA%A7-%E4%B8%AD%E7%BA%A7/" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2014-08-07T01:21:25+00:00" />
<meta property="article:modified_time" content="2014-08-07T01:21:25+00:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="vim编辑器技巧备忘（初级-中级）"/>
<meta name="twitter:description" content="“学习vim并且其会成为你最后一个使用的文本编辑器” 学习建议：
丢弃鼠标和小键盘 具有搭配使用各种按键的意识 首先来一张 mindmap :
1. 初级 1.1 编辑模式（Insert Mode） 编辑模式包括以下动作：
insert：i在光标所在字符前插入，I在当前行首第一个非空格字符前插入 append：a在光标所在字符后插入，A在行末尾开始插入 open：o在下一行插入新行，O在光标所在行的上一行插入新行 replace：r将光标处字符替换成r紧接的字符；R一直替换字符串，知道ESC键退出，同windows下的Insert键 Ctrl&#43;p：自动提示 [ESC]：回到普通模式 1.2 普通模式（Normal Mode） h, j, k, l ，分别对应 左← 下↓ 上↑ 右→
:q, :q!, :wq 退出 不保存强行退出 保存退出
移动光标到当前行首/非空格，同^，:0
$ 移动光标到当前行尾，同:$
G 移动光标到文档最后一行首
30G 转到第30行，同 :30
9- 光标向上移动9行，同9k
9&#43; 光饼向下移动9行，同9[space]，9j
gg 转到文档第一行(1G)
H 移动到屏幕的第一列
M 移动到屏幕的中间列
L 移动到屏幕的最后列
w 移动到下一个单词的首字母，（标点符号认为是一个单词，W表示单词以空格分隔）
e 移动到下一个单词的末尾，（E认为单词以空格分隔）
b 移动到上一个单词的首字母，（B认为单词以空格分隔）
fx 移动到下一个字母是x的位置。Fx向上移动。
% 匹配括号移动，包括 (, {, [ ，你需要把光标先移到括号上"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "http://xgknight.com/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "vim编辑器技巧备忘（初级-中级）",
      "item": "http://xgknight.com/posts/2014/08/vim%E7%BC%96%E8%BE%91%E5%99%A8%E6%8A%80%E5%B7%A7%E5%A4%87%E5%BF%98%E5%88%9D%E7%BA%A7-%E4%B8%AD%E7%BA%A7/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "vim编辑器技巧备忘（初级-中级）",
  "name": "vim编辑器技巧备忘（初级-中级）",
  "description": "“学习vim并且其会成为你最后一个使用的文本编辑器” 学习建议：\n丢弃鼠标和小键盘 具有搭配使用各种按键的意识 首先来一张 mindmap :\n1. 初级 1.1 编辑模式（Insert Mode） 编辑模式包括以下动作：\ninsert：i在光标所在字符前插入，I在当前行首第一个非空格字符前插入 append：a在光标所在字符后插入，A在行末尾开始插入 open：o在下一行插入新行，O在光标所在行的上一行插入新行 replace：r将光标处字符替换成r紧接的字符；R一直替换字符串，知道ESC键退出，同windows下的Insert键 Ctrl+p：自动提示 [ESC]：回到普通模式 1.2 普通模式（Normal Mode） h, j, k, l ，分别对应 左← 下↓ 上↑ 右→\n:q, :q!, :wq 退出 不保存强行退出 保存退出\n移动光标到当前行首/非空格，同^，:0\n$ 移动光标到当前行尾，同:$\nG 移动光标到文档最后一行首\n30G 转到第30行，同 :30\n9- 光标向上移动9行，同9k\n9+ 光饼向下移动9行，同9[space]，9j\ngg 转到文档第一行(1G)\nH 移动到屏幕的第一列\nM 移动到屏幕的中间列\nL 移动到屏幕的最后列\nw 移动到下一个单词的首字母，（标点符号认为是一个单词，W表示单词以空格分隔）\ne 移动到下一个单词的末尾，（E认为单词以空格分隔）\nb 移动到上一个单词的首字母，（B认为单词以空格分隔）\nfx 移动到下一个字母是x的位置。Fx向上移动。\n% 匹配括号移动，包括 (, {, [ ，你需要把光标先移到括号上",
  "keywords": [
    "vim", "编辑器"
  ],
  "articleBody": "“学习vim并且其会成为你最后一个使用的文本编辑器” 学习建议：\n丢弃鼠标和小键盘 具有搭配使用各种按键的意识 首先来一张 mindmap :\n1. 初级 1.1 编辑模式（Insert Mode） 编辑模式包括以下动作：\ninsert：i在光标所在字符前插入，I在当前行首第一个非空格字符前插入 append：a在光标所在字符后插入，A在行末尾开始插入 open：o在下一行插入新行，O在光标所在行的上一行插入新行 replace：r将光标处字符替换成r紧接的字符；R一直替换字符串，知道ESC键退出，同windows下的Insert键 Ctrl+p：自动提示 [ESC]：回到普通模式 1.2 普通模式（Normal Mode） h, j, k, l ，分别对应 左← 下↓ 上↑ 右→\n:q, :q!, :wq 退出 不保存强行退出 保存退出\n移动光标到当前行首/非空格，同^，:0\n$ 移动光标到当前行尾，同:$\nG 移动光标到文档最后一行首\n30G 转到第30行，同 :30\n9- 光标向上移动9行，同9k\n9+ 光饼向下移动9行，同9[space]，9j\ngg 转到文档第一行(1G)\nH 移动到屏幕的第一列\nM 移动到屏幕的中间列\nL 移动到屏幕的最后列\nw 移动到下一个单词的首字母，（标点符号认为是一个单词，W表示单词以空格分隔）\ne 移动到下一个单词的末尾，（E认为单词以空格分隔）\nb 移动到上一个单词的首字母，（B认为单词以空格分隔）\nfx 移动到下一个字母是x的位置。Fx向上移动。\n% 匹配括号移动，包括 (, {, [ ，你需要把光标先移到括号上\nCTRL+b 向上（前）翻页\nCTRL+f 向后翻页\nd 删除开始。其实是放到寄存器中，p或P命令调用。c即change，删完进入编辑模式\nd$ 删除光标到行尾的所有文字，同D。C指令进入编辑模式\ndw 删除当前字符到单词尾的所有字符。cw删除光标后的单词并进入插入模式，等同替换\ndd 删除当前一行\n2dd 删除当前两行\nx 剪切光标处字符，可以p粘贴出来\ny 复制开始。yank起来，p或P命令调用\nyy p 复制当前行并粘贴到下一行\n5yy p 复制当前行以下5行，在合适的地方粘贴\nyw p 复制一个单词并粘贴。\nyi{ 复制光标所在{}中的内容。很容易知道ci{ 和 di \" 的意思。\nu 撤销\nCTRL+r 重做\n. 点号重复做上一个命令\n``.` 移动光标到上一次的修改点\nCtrl+g 查看我当前位置\n1.3 命令模式 /word 向下查找word，n定位到下一个。?word 向上开始查找，同 /word 配合N。* 直接查找光标所在处单词\n:%s/word1/word2/g 替换所有 word1 为 word2 (^$ [])\n:set noic 区分大小写 (即set no igorecase，set ic不区分大小写)\n:set nu 显示行号。:set nonu相反，不显示行号\n:set paste 设置为粘贴模式，解决Ctrl+Insert粘贴时缩进错乱问题。:set nopaste设置回默认\n:se ff=unix 设置文本文件的格式为unix，去掉windows系统文件中的^M。\n:!ls 执行bash下的命令ls，回车后继续回到vi。一般在一个不存在的目录中创建文件时用到\n:set all 查看vim说有设置属性值\n:map 查看绑定的快捷键\n:marks 查看可用标记\n熟练上面的命令，已经可以满足日常工作要求，要提高效率可以学习vim的高级用法，如分屏显示、分页、标签功能、代码折叠、键盘映射。\n1.4 可视化模式 visual mode多用于用键盘灵活选择文本。v或V键进入，可以实现同时编辑多行（如注释）\n2. 中级 2.1 高级组合命令 :sh 暂时离开vi，进入shell命令行\n:!ls !表示要执行一个shell命令\nq: 调出历史命令窗口\ncc 替换一行，清空一行\ncw 替换一个单词，进入插入模式\nea 在当前单词最后插入\nvw visual模式选择一个单词\nVU 全选一行，转换成大写\n:5,12 co 13 将5至12行复制到第13行下\ngg=G 自动缩排文件 % : 匹配括号移动，包括 (, {, [. ，你需要把光标先移到括号上 * 和 #:匹配光标当前所在的单词，移动光标到下一个（或上一个）匹配单词（*是下一个，#是上一个）\n当光标在( ), [ ],\u003c \u003e, { }, \" \", '' 内时，可以用ci, di, 或yi，加上(, [, \u003c,{, \", '。这样可以改写/删除/复制( )内，[ ]内，\u003c \u003e内，{ }内，\" \"内，' '内的内容\n多行注释（块操作）\n首先按esc进入命令行模式下，按下Ctrl + v，进入列（也叫区块）模式; 在行首使用上下键kj选择需要注释的多行; 按下键盘（大写）I键，进入插入模式； 然后输入注释符（“//”、“#”等）; 最后按下esc键 删除多行开头的一个字符与此类似，删除多个字符也只要左右键，然后使用d。\n另外一种多行注释的方式就是替换：\n:5,9s/^/#/g 添加注释# :5,9s/^#//g 删除注释# :5,9s#^#//#g 添加注释//，同:5,9s/^///#/g :5,9s#^//##g 删除注释// 多行缩进 [ESC], Ctrl+v 选择行 \u003c或\u003e左右缩进，=自动缩进（gg=G的局部功能）\n多行行末尾加上 » ${log}：Ctrl+v /^echo \u003e\u003e相当于tab键，一个缩进\n多行删除\n首先在命令模式下，输入set nu显示行号； 通过行号确定你要删除的行； 命令输入:32,65d,回车键，32-65行就被删除了 自动补全 在Insert模式下，你可以输入一个词的开头，然后按 或是，自动补齐功能就出现了\n2.2 分屏(split) 分割窗口（同时编辑多个文件）\nvi -o file1 file2 水平分屏，也可以在先打开file1后，使用:sp file2 vi -O file1 file2 垂直分屏，也可以在先打开file1后，使用:vsp file2 Ctrl+w w 光标切换到另一个屏 k 关闭当前窗口，如果有改动则提示要先保存。:wqa!保存退出所有文件 Ctrl+w v 左右分割当前打开的文件。Ctrl+w s上下分割显示 Ctrl+w H 左移该屏（大写，L右移，K上移—改变vertical为horizontal） :set scb 分屏同步滚动 另外一种不分屏，同时编辑多个文件的方法\nvi file1 file2\n:ls 展示全部打开的文档。其中 % 代表正在打开的文件（buffer），# 代表上一个编辑过的文件，a 代表当前激活的buffer空间，+ 代表有修改过的内容但还未保存 :buffer 2 转到打开的第二个文件。或简写为 :b2 :bn 转到下一个文件。没有保存不能离开这个文件。:bp 上一个文件 :b# 转到上一个编辑过的文件，同 :e #。类似于多屏中Ctrl+w w :e file3 编辑一个新的文件 Ctrl+g 显示当前文件名和行号，同 :f 2.3 折叠(fold) 主要应用在复杂脚本的场合，特别是函数比较多，逻辑结构比较复杂的代码。（:help folding） 有6种方式来折叠代码\nmanual //手工定义折叠 indent //用缩进表示折叠 expr　//用表达式来定义折叠 syntax //用语法高亮来定义折叠 diff //对没有更改的文本进行折叠 marker //用标志折叠 indent :set foldmethod=indent 设置缩进折叠，fdm为简写。只对当前会话有效，要使每次打开vim时折叠都生效，则在.vimrc文件中添加设置，如添加：set fdm=indent\nzc 折叠与当前缩进相同的行 zo 打开折叠 zj 移到下一个折叠处 zk 移到上一个折叠处 zm 折叠所有可折叠标记 zr 展开所有折叠 [z 到当前打开折叠的开始 ]z 到当前打开折叠的结束 marker 注意与后文的mark不是同一东西，:set fdm=marker\nzf 创建marker，默认 # { { {, # } } } Ctrl+v zf 进入可视化模式，选择需要折叠的行，zc执行折叠。会自动加入 # { { { code block # } } } zf9j 创建从当前行起至以下9行的折叠标记，zc进行折叠。同9zf。类似有zf30G，从当前行折叠刀第30行 zf% 创建匹配的 {}, [], (), \u003c\u003e 的fold。不用执行zc zd 删除当前行上存在的折叠标记。仅当 ‘foldmethod’ 设为 “manual” 或 “marker” 时有效 2.4 标记 标记(mark)是vim提供的精确定位技术，只要你知道标记的名字，就可以使用命令直接跳转到该标记所在的位置。vim中的标记都有一个名字，这个名字用单一的字符表示。大写和小写字母(A-Za-z)都可以做为标记的名字，这些标志的位置可以由用户来设置；而数字标记0-9，以及一些标点符号标记，用户不能进行设置，由vim来自动设置。（:help mark-motions查看更多帮助）\nms 定义一个标记s ``s` 跳转到标记s的地方 's 跳转到调剂s所在行首 ``.` jump to position where last change occurred in current buffer `` jump back (to position in current buffer where jumped from) :delmarks aA 使用 :delmarks! 删除所有小写（a-z）的标记 :marks 查看所有标记 3. 插件 待续\n4. vimrc .vimrc 是目前自己用的比较习惯的vim风格。\n参考\n简明 Vim 练级攻略\nVim Cheat Sheet for Programmers\nVIM哲学\n",
  "wordCount" : "452",
  "inLanguage": "en",
  "datePublished": "2014-08-07T01:21:25Z",
  "dateModified": "2014-08-07T01:21:25Z",
  "author":{
    "@type": "Person",
    "name": "admin"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "http://xgknight.com/posts/2014/08/vim%E7%BC%96%E8%BE%91%E5%99%A8%E6%8A%80%E5%B7%A7%E5%A4%87%E5%BF%98%E5%88%9D%E7%BA%A7-%E4%B8%AD%E7%BA%A7/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Sean Note",
    "logo": {
      "@type": "ImageObject",
      "url": "http://xgknight.com/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://xgknight.com/" accesskey="h" title="Sean Note (Alt + H)">Sean Note</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="http://xgknight.com/archives/" title="Archives">
                    <span>Archives</span>
                </a>
            </li>
            <li>
                <a href="http://xgknight.com/about/" title="About">
                    <span>About</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title">
      vim编辑器技巧备忘（初级-中级）
    </h1>
    <div class="post-meta"><span title='2014-08-07 01:21:25 +0000 UTC'>August 7, 2014</span>&nbsp;·&nbsp;admin

</div>
  </header> 
  <div class="post-content"><p>“学习vim并且其会成为你最后一个使用的文本编辑器”
学习建议：</p>
<ul>
<li>丢弃鼠标和小键盘</li>
<li>具有搭配使用各种按键的意识</li>
</ul>
<p>首先来一张 <a href="http://jrmiii.com/2009/03/06/learning-vim-the-pragmatic-way.html">mindmap</a> :</p>
<p><img loading="lazy" src="http://github.com/seanlook/sean-notes-comment/raw/main/static/Vim-mindmap.png" alt="vim-learn-card"  />
</p>
<!-- raw HTML omitted -->
<h1 id="1-初级">1. 初级<a hidden class="anchor" aria-hidden="true" href="#1-初级">#</a></h1>
<h2 id="11-编辑模式insert-mode">1.1 编辑模式（Insert Mode）<a hidden class="anchor" aria-hidden="true" href="#11-编辑模式insert-mode">#</a></h2>
<p>编辑模式包括以下动作：</p>
<ul>
<li>insert：<code>i</code>在光标所在字符前插入，<code>I</code>在当前行首第一个非空格字符前插入</li>
<li>append：<code>a</code>在光标所在字符后插入，<code>A</code>在行末尾开始插入</li>
<li>open：<code>o</code>在下一行插入新行，<code>O</code>在光标所在行的上一行插入新行</li>
<li>replace：<code>r</code>将光标处字符替换成r紧接的字符；<code>R</code>一直替换字符串，知道<code>ESC</code>键退出，同windows下的Insert键</li>
<li><code>Ctrl+p</code>：自动提示</li>
<li><code>[ESC]</code>：回到普通模式</li>
</ul>
<p><img loading="lazy" src="http://github.com/seanlook/sean-notes-comment/raw/main/static/vim-mode.png" alt="vim-mode"  />
</p>
<h2 id="12-普通模式normal-mode">1.2 普通模式（Normal Mode）<a hidden class="anchor" aria-hidden="true" href="#12-普通模式normal-mode">#</a></h2>
<ul>
<li>
<p><code>h, j, k, l </code>，分别对应 左←  下↓  上↑  右→</p>
</li>
<li>
<p><code>:q, :q!, :wq</code>  退出 不保存强行退出 保存退出</p>
</li>
<li>
<p>移动光标到当前行首/非空格，同^，:0</p>
</li>
<li>
<p><code>$</code>  移动光标到当前行尾，同:$</p>
</li>
<li>
<p><code>G</code>  移动光标到文档最后一行首</p>
</li>
<li>
<p><code>30G</code>  转到第30行，同 :30</p>
</li>
<li>
<p><code>9-</code>  光标向上移动9行，同9k</p>
</li>
<li>
<p><code>9+</code>  光饼向下移动9行，同9[space]，9j</p>
</li>
<li>
<p><code>gg</code>  转到文档第一行(1G)</p>
</li>
<li>
<p><code>H</code>  移动到屏幕的第一列</p>
</li>
<li>
<p><code>M</code>  移动到屏幕的中间列</p>
</li>
<li>
<p><code>L</code>  移动到屏幕的最后列</p>
</li>
<li>
<p><code>w</code>  移动到下一个单词的首字母，（标点符号认为是一个单词，W表示单词以空格分隔）</p>
</li>
<li>
<p><code>e</code>  移动到下一个单词的末尾，（E认为单词以空格分隔）</p>
</li>
<li>
<p><code>b</code>  移动到上一个单词的首字母，（B认为单词以空格分隔）</p>
</li>
<li>
<p><code>fx</code>  移动到下一个字母是x的位置。Fx向上移动。</p>
</li>
<li>
<p><code>%</code>  匹配括号移动，包括 (, {, [ ，你需要把光标先移到括号上</p>
</li>
<li>
<p><code>CTRL+b</code> 向上（前）翻页</p>
</li>
<li>
<p><code>CTRL+f</code> 向后翻页</p>
</li>
<li>
<p><code>d</code>  删除开始。其实是放到寄存器中，p或P命令调用。c即change，删完进入编辑模式</p>
</li>
<li>
<p><code>d$</code>  删除光标到行尾的所有文字，同D。C指令进入编辑模式</p>
</li>
<li>
<p><code>dw</code>    删除当前字符到单词尾的所有字符。cw删除光标后的单词并进入插入模式，等同替换</p>
</li>
<li>
<p><code>dd</code>  删除当前一行</p>
</li>
<li>
<p><code>2dd</code>  删除当前两行</p>
</li>
<li>
<p><code>x</code>  剪切光标处字符，可以p粘贴出来</p>
</li>
<li>
<p><code>y</code>  复制开始。yank起来，p或P命令调用</p>
</li>
<li>
<p><code>yy p</code>  复制当前行并粘贴到下一行</p>
</li>
<li>
<p><code>5yy p</code> 复制当前行以下5行，在合适的地方粘贴</p>
</li>
<li>
<p><code>yw p</code>  复制一个单词并粘贴。</p>
</li>
<li>
<p><code>yi{</code>  复制光标所在{}中的内容。很容易知道ci{ 和 di &quot; 的意思。</p>
</li>
<li>
<p><code>u</code>      撤销</p>
</li>
<li>
<p><code>CTRL+r</code> 重做</p>
</li>
<li>
<p><code>.</code>   点号重复做上一个命令</p>
</li>
<li>
<p>``.`  移动光标到上一次的修改点</p>
</li>
<li>
<p><code>Ctrl+g</code> 查看我当前位置</p>
</li>
</ul>
<h2 id="13-命令模式">1.3 命令模式<a hidden class="anchor" aria-hidden="true" href="#13-命令模式">#</a></h2>
<ul>
<li>
<p><code>/word</code> 向下查找word，n定位到下一个。?word 向上开始查找，同 /word 配合N。* 直接查找光标所在处单词</p>
</li>
<li>
<p><code>:%s/word1/word2/g</code>  替换所有 word1 为 word2 (^$ [])</p>
</li>
<li>
<p><code>:set noic</code>    区分大小写 (即set no igorecase，set ic不区分大小写)</p>
</li>
<li>
<p><code>:set nu</code>  显示行号。:set nonu相反，不显示行号</p>
</li>
<li>
<p><code>:set paste</code>  设置为粘贴模式，解决Ctrl+Insert粘贴时缩进错乱问题。:set nopaste设置回默认</p>
</li>
<li>
<p><code>:se ff=unix</code> 设置文本文件的格式为unix，去掉windows系统文件中的^M。</p>
</li>
<li>
<p><code>:!ls</code>  执行bash下的命令ls，回车后继续回到vi。一般在一个不存在的目录中创建文件时用到</p>
</li>
<li>
<p><code>:set all</code> 查看vim说有设置属性值</p>
</li>
<li>
<p><code>:map</code> 查看绑定的快捷键</p>
</li>
<li>
<p><code>:marks</code> 查看可用标记</p>
</li>
</ul>
<p>熟练上面的命令，已经可以满足日常工作要求，要提高效率可以学习vim的高级用法，如分屏显示、分页、标签功能、代码折叠、键盘映射。</p>
<h2 id="14-可视化模式">1.4 可视化模式<a hidden class="anchor" aria-hidden="true" href="#14-可视化模式">#</a></h2>
<p>visual mode多用于用键盘灵活选择文本。<code>v</code>或<code>V</code>键进入，可以实现同时编辑多行（如注释）</p>
<h1 id="2-中级">2. 中级<a hidden class="anchor" aria-hidden="true" href="#2-中级">#</a></h1>
<h2 id="21-高级组合命令">2.1 高级组合命令<a hidden class="anchor" aria-hidden="true" href="#21-高级组合命令">#</a></h2>
<ul>
<li>
<p><code>:sh</code>   暂时离开vi，进入shell命令行</p>
</li>
<li>
<p><code>:!ls</code>  !表示要执行一个shell命令</p>
</li>
<li>
<p><code>q:</code>  调出历史命令窗口</p>
</li>
<li>
<p><code>cc</code>  替换一行，清空一行</p>
</li>
<li>
<p><code>cw</code>  替换一个单词，进入插入模式</p>
</li>
<li>
<p><code>ea</code>  在当前单词最后插入</p>
</li>
<li>
<p><code>vw</code>  visual模式选择一个单词</p>
</li>
<li>
<p><code>VU</code>  全选一行，转换成大写</p>
</li>
<li>
<p><code>:5,12 co 13</code> 将5至12行复制到第13行下</p>
</li>
<li>
<p><code>gg=G</code> 自动缩排文件
<code>%</code> : 匹配括号移动，包括 (, {, [. ，你需要把光标先移到括号上
<code>*</code> 和 <code>#</code>:匹配光标当前所在的单词，移动光标到下一个（或上一个）匹配单词（*是下一个，#是上一个）</p>
</li>
</ul>
<p>当光标在<code>( )</code>, <code>[ ]</code>,<code>&lt; &gt;</code>, <code>{ }</code>, <code>&quot; &quot;</code>, <code>''</code> 内时，可以用<code>ci</code>, <code>di</code>, 或<code>yi</code>，加上<code>(</code>, <code>[</code>, <code>&lt;</code>,<code>{</code>, <code>&quot;</code>, <code>'</code>。这样可以改写/删除/复制<code>( )</code>内，<code>[ ]</code>内，<code>&lt; &gt;</code>内，<code>{ }</code>内，<code>&quot; &quot;</code>内，<code>' '</code>内的内容</p>
<p><strong>多行注释（块操作）</strong></p>
<ol>
<li>首先按<code>esc</code>进入命令行模式下，按下<code>Ctrl + v</code>，进入列（也叫区块）模式;</li>
<li>在行首使用上下键<code>kj</code>选择需要注释的多行;</li>
<li>按下键盘（大写）<code>I</code>键，进入插入模式；</li>
<li>然后输入注释符（“//”、“#”等）;</li>
<li>最后按下<code>esc</code>键</li>
</ol>
<p>删除多行开头的一个字符与此类似，删除多个字符也只要左右键，然后使用d。</p>
<p>另外一种多行注释的方式就是替换：</p>
<ul>
<li><code>:5,9s/^/#/g</code>    添加注释#</li>
<li><code>:5,9s/^#//g</code>    删除注释#</li>
<li><code>:5,9s#^#//#g</code>    添加注释//，同:5,9s/^///#/g</li>
<li><code>:5,9s#^//##g</code>    删除注释//</li>
</ul>
<p>多行缩进
<code>[ESC]</code>,  <code>Ctrl+v</code>  选择行 &lt;或&gt;左右缩进，=自动缩进（gg=G的局部功能）</p>
<p>多行行末尾加上 &raquo; ${log}：Ctrl+v  /^echo <br>
<code>&gt;&gt;</code>相当于tab键，一个缩进</p>
<p><strong>多行删除</strong></p>
<ol>
<li>首先在命令模式下，输入<code>set nu</code>显示行号；</li>
<li>通过行号确定你要删除的行；</li>
<li>命令输入<code>:32,65d</code>,回车键，32-65行就被删除了</li>
</ol>
<p><strong>自动补全</strong>
在Insert模式下，你可以输入一个词的开头，然后按 <code>&lt;C-p&gt;</code>或是<code>&lt;C-n&gt;</code>，自动补齐功能就出现了</p>
<h2 id="22-分屏split">2.2 分屏(split)<a hidden class="anchor" aria-hidden="true" href="#22-分屏split">#</a></h2>
<p>分割窗口（同时编辑多个文件）</p>
<ul>
<li><code>vi -o file1 file2</code> 水平分屏，也可以在先打开file1后，使用<code>:sp file2</code></li>
<li><code>vi -O file1 file2 </code>    垂直分屏，也可以在先打开file1后，使用<code>:vsp file2</code></li>
<li><code>Ctrl+w w</code>  光标切换到另一个屏</li>
<li><code>k</code>    关闭当前窗口，如果有改动则提示要先保存。<code>:wqa!</code>保存退出所有文件</li>
<li><code>Ctrl+w v</code>  左右分割当前打开的文件。<code>Ctrl+w s</code>上下分割显示</li>
<li><code>Ctrl+w H</code>  左移该屏（大写，<code>L</code>右移，<code>K</code>上移—改变vertical为horizontal）</li>
<li><code>:set scb</code>  分屏同步滚动</li>
</ul>
<p>另外一种不分屏，同时编辑多个文件的方法</p>
<p><code>vi file1 file2</code></p>
<ul>
<li><code>:ls </code>              展示全部打开的文档。其中 <code>%</code> 代表正在打开的文件（buffer），<code>#</code> 代表上一个编辑过的文件，<code>a</code> 代表当前激活的buffer空间，<code>+</code> 代表有修改过的内容但还未保存</li>
<li><code>:buffer 2 </code>   转到打开的第二个文件。或简写为 <code>:b2</code></li>
<li><code>:bn</code>             转到下一个文件。没有保存不能离开这个文件。<code>:bp</code> 上一个文件</li>
<li><code>:b#</code>             转到上一个编辑过的文件，同 <code>:e #</code>。类似于多屏中<code>Ctrl+w w</code></li>
<li><code>:e file3</code>      编辑一个新的文件</li>
<li><code>Ctrl+g </code>       显示当前文件名和行号，同 <code>:f</code></li>
</ul>
<h2 id="23-折叠fold">2.3 折叠(fold)<a hidden class="anchor" aria-hidden="true" href="#23-折叠fold">#</a></h2>
<p>主要应用在复杂脚本的场合，特别是函数比较多，逻辑结构比较复杂的代码。（<code>:help folding</code>）
有6种方式来折叠代码</p>
<ol>
<li>manual //手工定义折叠</li>
<li>indent //用缩进表示折叠</li>
<li>expr　 //用表达式来定义折叠</li>
<li>syntax //用语法高亮来定义折叠</li>
<li>diff   //对没有更改的文本进行折叠</li>
<li>marker //用标志折叠</li>
</ol>
<p><strong>indent</strong>
<code>:set foldmethod=indent</code>    设置缩进折叠，fdm为简写。只对当前会话有效，要使每次打开vim时折叠都生效，则在.vimrc文件中添加设置，如添加：<code>set fdm=indent</code></p>
<ul>
<li><code>zc</code>    折叠与当前缩进相同的行</li>
<li><code>zo</code>    打开折叠</li>
<li><code>zj</code>    移到下一个折叠处</li>
<li><code>zk</code>    移到上一个折叠处</li>
<li><code>zm</code>    折叠所有可折叠标记</li>
<li><code>zr</code>      展开所有折叠</li>
<li><code>[z</code>    到当前打开折叠的开始</li>
<li><code>]z</code>    到当前打开折叠的结束</li>
</ul>
<p><strong>marker</strong>
注意与后文的mark不是同一东西，<code>:set fdm=marker</code></p>
<ul>
<li><code>zf</code>    创建marker，默认 <code># { { {</code>, <code># } } }</code></li>
<li><code>Ctrl+v zf</code> 进入可视化模式，选择需要折叠的行，zc执行折叠。会自动加入 <code># { { {</code>  code block <code># } } }</code></li>
<li><code>zf9j</code>  创建从当前行起至以下9行的折叠标记，<code>zc</code>进行折叠。同<code>9zf</code>。类似有<code>zf30G</code>，从当前行折叠刀第30行</li>
<li><code>zf%</code>   创建匹配的 <code>{}</code>, <code>[]</code>, <code>()</code>, <code>&lt;&gt;</code> 的fold。不用执行<code>zc</code></li>
<li><code>zd</code>    删除当前行上存在的折叠标记。仅当 &lsquo;foldmethod&rsquo; 设为 &ldquo;manual&rdquo; 或 &ldquo;marker&rdquo; 时有效</li>
</ul>
<h2 id="24-标记">2.4 标记<a hidden class="anchor" aria-hidden="true" href="#24-标记">#</a></h2>
<p>标记(mark)是vim提供的精确定位技术，只要你知道标记的名字，就可以使用命令直接跳转到该标记所在的位置。vim中的标记都有一个名字，这个名字用单一的字符表示。大写和小写字母(A-Za-z)都可以做为标记的名字，这些标志的位置可以由用户来设置；而数字标记0-9，以及一些标点符号标记，用户不能进行设置，由vim来自动设置。（:help mark-motions查看更多帮助）</p>
<ul>
<li><code>ms</code>    定义一个标记s</li>
<li>``s`    跳转到标记s的地方</li>
<li><code>'s</code>    跳转到调剂s所在行首</li>
<li>``.`    jump to position where last change occurred in current buffer</li>
<li>``    jump back (to position in current buffer where jumped from)</li>
<li><code>:delmarks aA</code> 使用 :delmarks! 删除所有小写（a-z）的标记</li>
<li><code>:marks</code>    查看所有标记</li>
</ul>
<h1 id="3-插件">3. 插件<a hidden class="anchor" aria-hidden="true" href="#3-插件">#</a></h1>
<p>待续</p>
<h1 id="4-vimrc">4. vimrc<a hidden class="anchor" aria-hidden="true" href="#4-vimrc">#</a></h1>
<p><a href="http://github.com/seanlook/sean-notes-comment/raw/main/static/vimrc">.vimrc</a> 是目前自己用的比较习惯的vim风格。</p>
<p><strong>参考</strong></p>
<ul>
<li>
<p><a href="http://coolshell.cn/articles/5426.html">简明 Vim 练级攻略</a></p>
</li>
<li>
<p><a href="http://michael.peopleofhonoronly.com/vim/">Vim Cheat Sheet for Programmers</a></p>
</li>
<li>
<p><a href="http://segmentfault.com/blog/nightire/1190000000445598">VIM哲学</a></p>
</li>
</ul>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="http://xgknight.com/tags/vim/">vim</a></li>
      <li><a href="http://xgknight.com/tags/%E7%BC%96%E8%BE%91%E5%99%A8/">编辑器</a></li>
    </ul>
  </footer><script src="https://utteranc.es/client.js"
        repo="seanlook/sean-notes-comment"
        issue-term="pathname"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script>
</article>
    </main>
    
<footer class="footer">
    <span>&copy; 2023 <a href="http://xgknight.com/">Sean Note</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
